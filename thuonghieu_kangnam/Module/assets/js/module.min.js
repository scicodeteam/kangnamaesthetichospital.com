const $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document);function imgTheme(path,tag){let image=$$(tag);for(let item of image)if(!item.classList.contains("noneImg")){let src=item.getAttribute("src");src&&(src=path+src,item.setAttribute("src",src))}}function sourceTheme(path,tag){let image=$$(tag);for(let item of image){let srcset=item.getAttribute("srcset");srcset&&(srcset=path+srcset,item.setAttribute("srcset",srcset))}}function dataTheme(path,tag){let image=$$(tag);for(let item of image){let datasrc=item.getAttribute("data-src");datasrc&&(datasrc=path+datasrc,item.setAttribute("data-src",datasrc))}}function dataSourceTheme(path,tag){let image=document.querySelectorAll(tag);for(let item of image){let src=item.getAttribute("data-srcset");src&&(src=path+src,item.setAttribute("data-srcset",src))}}function myLazy(sec,attr){const section_loads=document.querySelectorAll(sec);let winTop=window.innerHeight;for(let i=0;i<section_loads.length;i++){let pos_top=section_loads[i].getBoundingClientRect().top,pos_bottom=section_loads[i].getBoundingClientRect().bottom,delay=section_loads[i].getAttribute("delay-time");if(pos_top<=winTop&&pos_bottom>=0)switch(attr){case"src":section_loads[i].src=section_loads[i].dataset.src,section_loads[i].classList.remove("lazy");break;case"srcset":section_loads[i].srcset=section_loads[i].dataset.srcset,section_loads[i].classList.remove("lazy");break;case"img-bg":section_loads[i].classList.remove("lazy-bg"),section_loads[i].classList.add("img-bg");break;case"loaded":setTimeout(()=>{section_loads[i].classList.remove("load"),section_loads[i].classList.add("loaded")},delay);break;case"slide":section_loads[i].classList.add("slide");break;default:console.log(`Sorry, we are out of ${attr}.`)}}}function lazyShowScreen(section,attr,sectionDelete){const section_loads=document.querySelectorAll(section);let win_height=screen.height;for(let i=0;i<section_loads.length;i++)section_loads[i].getBoundingClientRect().top<win_height&&(sectionDelete?(section_loads[i].classList.remove(sectionDelete),section_loads[i].classList.add(attr)):"srcset"==attr?(section_loads[i].srcset=section_loads[i].dataset.srcset,section_loads[i].classList.remove("lazy")):"src"==attr?(section_loads[i].src=section_loads[i].dataset.src,section_loads[i].classList.remove("lazy")):console.log(`Sorry, we are out of ${attr}.`))}function loadDoc(url,cFunction){const xhttp=new XMLHttpRequest;xhttp.onload=function(){cFunction(this)},xhttp.open("GET",url),xhttp.send()}function renderModule(type,module,data,logic){setTimeout(()=>{try{let url=`${type}/${module}/`;function insertLayout(xhttp){document.getElementById(`${module}`).innerHTML=xhttp.responseText,imgTheme(`${url}`,`.${module} img`),sourceTheme(`${url}`,`.${module} source`),dataTheme(`${url}`,`.${module} img`),dataSourceTheme(`${url}`,`.${module} source`),lazyShowScreen("img.lazy","src"),lazyShowScreen("source.lazy","srcset")}var script,t,script,t;if(loadDoc(`${url}code.html`,insertLayout),"data"==data||"logic"==logic)(script=document.createElement("script")).type="text/javascript",script.innerHTML=`let ${module}_url = '${url}'`,(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(script,t);if("data"==data)(script=document.createElement("script")).type="text/javascript",script.src=`${url}js/${module}_data.js`,(t=document.getElementsByTagName("script")[0]).parentNode.insertBefore(script,t);"logic"==logic&&setTimeout(()=>{var script=document.createElement("script");script.type="text/javascript",script.src=`${url}js/${module}.js`;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(script,t)},200);var link=document.createElement("link"),t;link.rel="stylesheet",link.href=`${url}/sass/${module}.min.css`,(t=document.getElementsByTagName("link")[0]).parentNode.insertBefore(link,t)}catch(err){console.log(err)}},800)}function onReady(callback){var intervalId=window.setInterval((function(){void 0!==document.getElementsByTagName("body")[0]&&(window.clearInterval(intervalId),callback.call(this))}),1200)}function setVisible(selector,visible){document.querySelector(selector).style.display=visible?"block":"none"}document.addEventListener("scroll",(function(){myLazy("img.lazy","src"),myLazy("source.lazy","srcset"),myLazy(".lazy-bg","img-bg"),myLazy(".load","loaded")})),lazyShowScreen("img.lazy","src"),lazyShowScreen("source.lazy","srcset"),$(".page")&&$(".loading")&&onReady((function(){setVisible(".page",!0),setVisible("#loading",!1)}));